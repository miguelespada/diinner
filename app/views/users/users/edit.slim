= simple_form_for [@user] do |f|
  .row
    .big-label.yellow = t("your_data")
  .row
    .col-xs-offset-1.col-xs-10.col-sm-5.col-md-5.col-lg-offset-2.col-lg-4
      = f.error_notification
      = f.input :gender, collection: [['Female', 'female'], ['Male', 'male']]
    .col-xs-offset-1.col-xs-10.col-sm-offset-0.col-sm-5.col-md-offset-0.col-md-5.col-lg-4
      = f.input :birth, as: :date_picker, html5: true
  .row
    .big-label.yellow = t("your_preferences")
  .row
    = f.simple_fields_for :preference do |c|
      .col-xs-offset-1.col-xs-10.col-lg-offset-2.col-lg-8
        .input-group.age-slider
          label.select.optional.control-label style="display: block;" for="age" Age
          .age-span
            span 18
          input id="age" data-slider-id="age-slider" class="age-selector" type="text" class="span2" value="" data-slider-min="18" data-slider-max="65" data-slider-step="1"
          .age-span
            span 65
        = c.input :max_age, label: false, as: :hidden
        = c.input :min_age, label: false, as: :hidden
        = render '/users/after_plan', f: f
        = c.input :menu_range, :collection => Preference::MENU_RANGE.map{ |s| [s.capitalize, s] }, :include_blank => false
        = c.association :city, :include_blank => false
        .text-center
          = f.button :submit, class: "button button-calm"
  .row
    .col-lg-12

javascript:
  $(document).ready(function () {
    // With JQuery
    //data-slider-value="[20,30]"

    var value = [parseInt($("#user_preference_attributes_min_age").val()), parseInt($("#user_preference_attributes_max_age").val())];

    var range = $("#age").slider({value: value}).data('slider');

    range.on('slideStop', function (ev) {
      $('#user_preference_attributes_max_age').val(range.getValue()[0]);
      $('#user_preference_attributes_min_age').val(range.getValue()[1]);
    });
  });